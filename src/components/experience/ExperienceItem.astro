---
import LinkIcon from '../icons/LinkIcon.astro'

interface Props {
  title: string
  company: string
  description: string
  link?: string
  startDate: string
  endDate: string
  location: string
  skills: string[]
  imageName: string
}

const {
  title,
  company,
  description,
  link,
  startDate,
  endDate,
  location,
  skills,
  imageName
} = Astro.props
---

<a
  class='group block'
  href={link || '#'}
  target='_blank'
  rel='noreferrer noopener'
  aria-label={`${title} at ${company}`}
>
  <div class='group relative grid pb-1 transition-all sm:grid-cols-7 sm:gap-7 md:gap-4'>
    <span
      class='absolute -inset-x-4 -inset-y-4 z-0 hidden rounded-md transition motion-reduce:transition-none lg:-inset-x-6 lg:block lg:group-hover:bg-slate-700/30 lg:group-hover:shadow-[inset_0_1px_0_0_rgba(148,163,184,0.1)] lg:group-hover:drop-shadow-lg'
    ></span>
    <div class='sm:col-span-1 z-10'>
      <img
        alt={`Image of the job experience ${title} at ${company} of Sergio Aguado`}
        class='rounded transitio hidden md:inline-block mt-2 mx-auto group-hover:scale-110 transition duration-500'
        src={`/experience/${imageName}.webp`}
        style={{ color: 'transparent' }}
      />
    </div>
    <div class='sm:col-span-6 z-10'>
      <h3
        class='inline-flex items-baseline font-medium leading-tight text-white text-base group-hover:text-teal-200 transition duration-400'
      >
        <span
          class='absolute -inset-x-4 -inset-y-2.5 hidden rounded md:-inset-x-6 md:-inset-y-4 lg:block'
        ></span>
        <span class='text-xl'>
          {title} Â·{' '}
          <span class='inline-block'>
            {company}
          </span>
          <LinkIcon />
        </span>
      </h3>
      <p class='text-sm text-slate-400/90'>{startDate} - {endDate}</p>
      <p class='text-sm text-slate-400/90'>{location}</p>
      <div class='relative flex flex-col gap-2 pb-4 text-gray-300 md:col-span-3'>
        <p
          class='mt-2.5 text-sm leading-normal text-slate-300/80'
          style={{ textWrap: 'pretty' }}
        >
          {description}
        </p>
        <div class='flex flex-wrap gap-2'>
          {
            skills.map((skill) => (
              <span class='bg-teal-400/10 px-3 py-1 text-xs font-medium leading-5 text-teal-200 rounded-full'>
                {skill}
              </span>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</a>
